# 📧 联系表单解决方案（GitHub Pages 静态部署）

由于 GitHub Pages 是静态托管，无法运行 API 路由，需要替代方案来处理联系表单。

## 🎯 推荐方案对比

| 方案 | 免费额度 | 设置难度 | 推荐度 | 说明 |
|------|---------|---------|--------|------|
| **Formspree** | 50次/月 | ⭐ 简单 | ⭐⭐⭐⭐⭐ | 最简单，推荐 |
| **Web3Forms** | 250次/月 | ⭐ 简单 | ⭐⭐⭐⭐ | 完全免费，无需注册 |
| **EmailJS** | 200次/月 | ⭐⭐ 中等 | ⭐⭐⭐ | 需要配置邮箱服务 |
| **Getform** | 50次/月 | ⭐ 简单 | ⭐⭐⭐ | 类似 Formspree |

## ✅ 方案一：Formspree（推荐）

### 优点
- ✅ 设置最简单
- ✅ 免费版 50 次提交/月
- ✅ 自动反垃圾邮件保护
- ✅ 支持自定义字段
- ✅ 邮件直接发送到您的邮箱
- ✅ 支持自定义邮件模板

### 设置步骤

1. **注册 Formspree 账号**
   - 访问 [https://formspree.io](https://formspree.io)
   - 点击 "Sign Up" 注册（免费）
   - 验证邮箱

2. **创建表单**
   - 登录后，点击 "New Form"
   - 表单名称：`iSperm Contact Form`
   - 接收邮箱：`market@isperm.com`
   - 点击 "Create Form"

3. **获取表单 ID**
   - 创建后，您会看到一个表单 URL，格式如：
     ```
     https://formspree.io/f/YOUR_FORM_ID
     ```
   - 复制 `YOUR_FORM_ID` 部分

4. **配置到项目中**
   - 在项目根目录创建 `.env.local` 文件（如果还没有）
   - 添加：
     ```
     NEXT_PUBLIC_FORMSPREE_ID=YOUR_FORM_ID
     ```
   - 将 `YOUR_FORM_ID` 替换为实际值

5. **部署**
   - 代码已修改为使用 Formspree
   - 推送到 GitHub 后会自动部署

### 费用
- **免费版**：50 次提交/月
- **付费版**：$10/月起，无限提交

---

## ✅ 方案二：Web3Forms（完全免费）

### 优点
- ✅ 完全免费，无需注册
- ✅ 250 次提交/月
- ✅ 设置超简单
- ✅ 无需账号

### 设置步骤

1. **获取 Access Key**
   - 访问 [https://web3forms.com](https://web3forms.com)
   - 输入您的邮箱：`market@isperm.com`
   - 点击 "Get Your Access Key"
   - 复制生成的 Access Key

2. **配置到项目中**
   - 在 `.env.local` 文件中添加：
     ```
     NEXT_PUBLIC_WEB3FORMS_KEY=YOUR_ACCESS_KEY
     ```

3. **修改代码**
   - 代码已支持 Web3Forms（作为备选方案）

### 费用
- **完全免费**：250 次提交/月

---

## ✅ 方案三：EmailJS（需要邮箱服务）

### 优点
- ✅ 200 次免费/月
- ✅ 可以自定义邮件模板
- ✅ 支持多种邮箱服务（Gmail, Outlook 等）

### 设置步骤

1. **注册 EmailJS**
   - 访问 [https://www.emailjs.com](https://www.emailjs.com)
   - 注册账号

2. **添加邮箱服务**
   - 在 Dashboard 中添加邮箱服务（Gmail/Outlook）
   - 连接您的邮箱账号

3. **创建邮件模板**
   - 创建新模板
   - 设置收件人：`market@isperm.com`
   - 配置模板变量

4. **获取配置信息**
   - Service ID
   - Template ID
   - Public Key

5. **配置到项目**
   ```env
   NEXT_PUBLIC_EMAILJS_SERVICE_ID=your_service_id
   NEXT_PUBLIC_EMAILJS_TEMPLATE_ID=your_template_id
   NEXT_PUBLIC_EMAILJS_PUBLIC_KEY=your_public_key
   ```

---

## 🚀 实现方案（已修改代码）

我已经修改了联系表单代码，支持 **Formspree** 和 **Web3Forms** 两种方案。

### 使用 Formspree（推荐）

1. 在 `.env.local` 中添加：
   ```env
   NEXT_PUBLIC_FORMSPREE_ID=your_form_id_here
   ```

2. 代码会自动使用 Formspree

### 使用 Web3Forms（备选）

1. 在 `.env.local` 中添加：
   ```env
   NEXT_PUBLIC_WEB3FORMS_KEY=your_access_key_here
   ```

2. 如果没有配置 Formspree ID，代码会自动使用 Web3Forms

---

## 📝 环境变量配置

创建 `.env.local` 文件（不要提交到 Git）：

```env
# Formspree（推荐）
NEXT_PUBLIC_FORMSPREE_ID=your_form_id_here

# 或 Web3Forms（备选）
NEXT_PUBLIC_WEB3FORMS_KEY=your_access_key_here
```

**注意**：
- `.env.local` 文件已在 `.gitignore` 中，不会被提交
- 对于 GitHub Pages，需要在 GitHub 仓库的 Settings > Secrets 中配置环境变量
- 或者直接在代码中配置（不推荐，但可以用于测试）

---

## 🔧 GitHub Pages 环境变量配置

由于 GitHub Pages 是静态部署，环境变量需要在构建时注入。

### 方法一：GitHub Actions Secrets（推荐）

1. 在 GitHub 仓库，点击 **Settings** > **Secrets and variables** > **Actions**
2. 点击 **New repository secret**
3. 添加：
   - Name: `NEXT_PUBLIC_FORMSPREE_ID`
   - Value: 您的 Formspree ID
4. 修改 `.github/workflows/deploy.yml`，在构建步骤中添加环境变量

### 方法二：直接在代码中配置（仅用于测试）

如果只是测试，可以在 `contact/page.tsx` 中直接硬编码（不推荐用于生产环境）。

---

## ✅ 推荐流程

1. **选择 Formspree**（最简单）
2. 注册并创建表单
3. 获取表单 ID
4. 在 GitHub Secrets 中配置环境变量
5. 更新 GitHub Actions 工作流（如果需要）
6. 部署测试

---

## 🆘 需要帮助？

如果遇到问题：
1. 检查环境变量是否正确配置
2. 查看浏览器控制台错误
3. 测试表单提交是否成功
4. 检查 Formspree/Web3Forms 后台的提交记录
