# 🔄 重新触发部署指南

修改 GitHub Secrets 后，需要重新触发部署才能让环境变量生效。

## 方法 1：推送空提交（推荐）

### 步骤

1. **打开 PowerShell 或命令提示符**
   - 在项目目录中右键点击，选择 "在终端中打开"
   - 或手动进入项目目录

2. **执行以下命令**

```powershell
# 进入项目目录（如果还没有）
cd "f:\Git Pages\isperm-website"

# 创建一个空提交（不修改任何文件）
git commit --allow-empty -m "Trigger deployment after updating secrets"

# 推送到 GitHub
git push origin main
```

3. **等待部署完成**
   - 进入 GitHub 仓库的 **Actions** 标签页
   - 查看新的部署任务
   - 等待 1-3 分钟完成

### 优点
- ✅ 简单快速
- ✅ 有提交记录
- ✅ 自动触发

---

## 方法 2：手动触发工作流（无需推送代码）

### 步骤

1. **打开 GitHub 仓库**
   - 访问您的 GitHub 仓库页面
   - 例如：`https://github.com/YOUR_USERNAME/isperm-website`

2. **进入 Actions 页面**
   - 点击仓库顶部的 **Actions** 标签

3. **选择工作流**
   - 在左侧工作流列表中，找到并点击 **"Deploy to GitHub Pages"**

4. **手动触发**
   - 在页面右侧，点击 **"Run workflow"** 按钮（蓝色按钮）
   - 在下拉菜单中选择分支：**main**
   - 点击绿色的 **"Run workflow"** 按钮

5. **等待部署完成**
   - 页面会自动跳转到新的工作流运行
   - 等待 1-3 分钟完成部署

### 优点
- ✅ 不需要推送代码
- ✅ 不需要修改任何文件
- ✅ 适合快速测试

---

## 📋 验证部署是否成功

### 检查清单

1. **查看 Actions 页面**
   - [ ] 看到新的工作流运行
   - [ ] `build` job 显示绿色 ✓
   - [ ] `deploy` job 显示绿色 ✓

2. **检查部署日志**
   - 点击工作流运行
   - 查看 "Build" 步骤的日志
   - 确认环境变量已正确注入

3. **测试网站功能**
   - 访问您的网站
   - 测试联系表单是否正常工作
   - 检查是否能成功提交

---

## 🆘 如果部署失败

### 常见问题

1. **权限问题**
   - 确保您有仓库的写入权限
   - 检查 GitHub Pages 设置是否正确

2. **环境变量问题**
   - 检查 Secrets 名称是否正确
   - 确认 Secrets 值是否正确
   - 查看构建日志中的环境变量

3. **构建错误**
   - 查看构建日志中的错误信息
   - 检查代码是否有语法错误

---

## 💡 提示

- **修改 Secrets 后必须重新部署**，环境变量才会生效
- 推荐使用方法 1（推送空提交），因为它有提交记录
- 如果只是想快速测试，可以使用方法 2（手动触发）

---

## 📝 快速命令（复制粘贴）

```powershell
cd "f:\Git Pages\isperm-website"
git commit --allow-empty -m "Trigger deployment"
git push origin main
```

就这么简单！🎉
